<script>
  // get dimensions
  var width = window.innerWidth - 200;
  var height = window.innerHeight - 71;

  // setup component
  var viewer = new ChemDoodle.TransformCanvas3D('viewer', width, height);
  viewer.specs.set3DRepresentation('van der Waals Spheres');
  viewer.specs.macro_displayAtoms = true;
  viewer.specs.macro_displayBonds = true;
  viewer.specs.macro_showWater = false;
  viewer.specs.proteins_displayBackbone = false;
  viewer.specs.proteins_displayRibbon = true;
  viewer.specs.macro_atomToLigandDistance = 5;
  // black
  viewer.specs.backgroundColor = '#111';
  viewer.specs.proteins_ribbonCartoonize = true;
  viewer.emptyMessage = 'No Data Loaded!';
  viewer.specs.compass_display = true;
  viewer.macro_displayBonds = true;


  //viewer.specs. = true;
  // load data
  var file = pdb_1BEB;
  //var file = ChemDoodle.readMOL(file);
  //var file = ChemDoodle.readPDB(pdb_AS1Casein, 1);
  viewer.loadMolecule(file);

  // Browser window -> scene resizing
  var timer, width, height;
  $(function() {
    $(window).resize(function(){
      clearTimeout(timer);
      timer = setTimeout(function() {
        width = $(window).innerWidth() - 200;
        height = $(window).innerHeight() - 71;
        viewer.resize(width, height);
        // Have to use loadMolecule() on each resize to avoid warped 3D image.
        viewer.loadMolecule(file);
      }, 150); // delay in milliseconds (Don't want to update while resizing too much)
    });
  }); // jQuery ready

</script>
